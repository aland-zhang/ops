日期：2015/11/17 - 2015/11/17 time 18:09
主机：n86
目的：初探KVM-如何使用console
操作内容：
一、样例

1、建立配置文件 ttyS0.conf
# cat /etc/init/ttyS0.conf
stop on runlevel [S016]
start on runlevel [2345]
respawn
instance /dev/ttyS0
exec /sbin/mingetty /dev/ttyS0

2、加入 securetty
# echo 'ttys0' >>/etc/securetty


3、重定向启动输出
网络文章介绍比较多的是在：
[root@localhost ~]# cat /etc/grub.conf 
# grub.conf generated by anaconda
#
# Note that you do not have to rerun grub after making changes to this file
# NOTICE:  You have a /boot partition.  This means that
#          all kernel and initrd paths are relative to /boot/, eg.
#          root (hd0,0)
#          kernel /vmlinuz-version ro root=/dev/vda3
#          initrd /initrd-[generic-]version.img
#boot=/dev/vda
default=0
timeout=5
splashimage=(hd0,0)/grub/splash.xpm.gz
hiddenmenu
title CentOS (2.6.32-431.el6.x86_64)
        root (hd0,0)
        kernel /vmlinuz-2.6.32-431.el6.x86_64 ro root=UUID=afccfb3d-46bb-4a23-ac55-ea9f073a405f rd_NO_LUKS rd_NO_LVM LANG=en_US.UTF-8 rd_NO_MD SYSFONT=latarcyrheb-sun16 crashkernel=auto  KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM quite
        initrd /initramfs-2.6.32-431.el6.x86_64.img
        
在kernel这一行的最后增加：console=ttyS0

经过测试发现，，增加后，重启完，在终端使用的体验不佳，键盘按下后似乎误码率较高，因而，目前不推荐这一个设置项，后续再研究。



ZYXW、参考
1、KVM Virsh Console Access to Linux VM – CentOS 6
https://mcdee.com.au/kvm-virsh-console-access-centos/