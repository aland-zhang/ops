初探django-charade
2015/12/2

一、准备环境
1、启动项目
[root@tvm01 ~]# pip2.7 install django==1.8.7
[root@tvm01 ~]# pip2.7 install pytz
[root@tvm01 ~]# python -c "import django; print(django.get_version())"
1.8.7

[root@tvm01 ~]# mkdir django && cd django
[root@tvm01 django]# django-admin startproject www
[root@tvm01 django]# cd www/
[root@tvm01 www]# django-admin startapp charade



二、操作概述
1、项目设置
[root@tvm01 www]# vim www/settings.py 

2、配置app
[root@tvm01 www]# mkdir charade/templates/charade -p
[root@tvm01 www]# mkdir charade/static/charade/images -p
[root@tvm01 www]# vim charade/urls.py 
[root@tvm01 www]# vim www/urls.py
[root@tvm01 www]# vim charade/views.py 
[root@tvm01 www]# vim charade/templates/charade/index.html
[root@tvm01 www]# vim charade/templates/charade/detail.html

3、同步数据
[root@tvm01 www]# python manage.py migrate


4、更新 model 后，如何变更数据库

编写 models 并注册到 admin中
[root@tvm01 www]# vim charade/models.py
[root@tvm01 www]# vim charade/admin.py


通知django有数据变更
[root@tvm01 www]# python manage.py makemigrations charade
Migrations for 'charade':
  0001_initial.py:
    - Create model Vocabulary
    
检查要变更的sql：    
[root@tvm01 www]# python manage.py sqlmigrate charade 0001


执行变更
[root@tvm01 www]# python manage.py migrate


5、运行服务
[root@tvm01 www]# python manage.py runserver 0.0.0.0:80

  
6、创建管理员
[root@tvm01 www]# python manage.py createsuperuser

7、找到django的源码文件路径
[root@tvm01 www]# python -c "
import sys
sys.path = sys.path[1:]
import django
print(django.__path__)"

8、测试
[root@tvm01 www]# python manage.py test charade

9、流程
startproject(www) -> startapp(charade) -> settings/urls(www) -> urls/models(charade) -> views/admin(charade) -> templates/static(charade)



三、技巧
1、在模版的一个循环中，根据行数来使用不同的css class
注意 cycle 的用法
{% for o in some_list %}
    <tr class="{% cycle 'row1' 'row2' %}">
        ...
    </tr>
{% endfor %}






ZYXW、参考
1、Getting started¶
https://docs.djangoproject.com/en/1.8/intro
https://docs.djangoproject.com/en/1.8/topics/
https://docs.djangoproject.com/en/1.8/ref/templates/builtins/#ref-templates-builtins-tags
https://docs.djangoproject.com/en/1.8/topics/pagination/

2、Django 基础教程
http://www.ziqiangxuetang.com/django/django-tutorial.html
